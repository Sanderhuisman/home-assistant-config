---
path: utilityroom
title: Utility Room
cards:
  - type: light
    name: Utility Lights
    entity: light.utility_room_lights_current_value_3

  - type: entities
    name: Ventilation
    entities:
      - name: Ventilation
        entity: switch.ventilation

  - type: entities
    title: Automation
    show_header_toggle: false
    entities:
      - type: custom:fold-entity-row
        head:
          name: Fridge Door Sensor
          entity: binary_sensor.utility_frige_door_status
        entities:
          - entity: sensor.utility_frige_door_power
            name: Battery

      - type: custom:fold-entity-row
        head:
          name: Door Sensor
          entity: binary_sensor.utility_door_status
        entities:
          - entity: sensor.utility_door_power
            name: Battery

      - name: Automatic light
        entity: automation.utility_lights_motion

      - name: Wasmachine
        entity: binary_sensor.washing_machine

  - type: custom:mini-graph-card
    entities:
      - entity: binary_sensor.utility_door_status
        name: Door Sensor
    name: Openings last hour
    hours_to_show: 1
    points_per_hour: 60
    update_interval: 30
    aggregate_func: max
    line_width: 2
    smoothing: false
    state_map:
      - value: "off"
        label: Closed
      - value: "on"
        label: Open

  - type: custom:vertical-stack-in-card
    title: Ventilation
    cards:
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            entity: script.ventilation_low
            name: Low
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.ventilation_low
          - type: 'custom:button-card'
            entity: script.ventilation_medium
            name: Medium
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.ventilation_medium
          - type: 'custom:button-card'
            entity: script.ventilation_high
            name: High
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.ventilation_high

          - type: 'custom:button-card'
            entity: script.ventilation_high_30_min
            icon: mdi:clock-time-six
            name: High 30 mins
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.ventilation_high_30_min

      - type: entities
        entities:
          - sensor.ventilation_mode
          - sensor.ventilation_timer
